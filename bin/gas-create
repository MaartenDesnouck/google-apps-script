#!/usr/bin/env node

var package = require('../package.json');
var program = require('commander');
var path = require('path');
var lib = path.join(__dirname, '../lib');

program
    .command('script <scriptTitle>')
    .description('create a new script in your Google Drive')
    .action(require(lib + '/remote-create'));

program
    .command('deployment [scriptTitle|scriptId]')
    .option('-v, --versionNumber <versionNr>', 'deploy a specific versionNumber')
    .option('-d, --description <description>', 'add a decription to the deployment')
    .description('deploy a new version of your Google Apps Script')
    .action(require(lib + '/deployment'));

program
    .command('version [scriptId]')
    .option('-d, --description <description>', 'specify a description for the new version')
    .description('create a new fixed version for the script linked to the current folder or for a specified script')
    .action(require(lib + '/version'));

program
    .command('*')
    .action(function (argv) {
        console.log('\'gas create %s\' is not a valid command use \'gas -h\' for help', argv);
        process.exit(2);
    });

program.parse(process.argv);

if (program.args.length < 1) {
    program.outputHelp();
    process.exit(2);
}
